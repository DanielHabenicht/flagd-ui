<div class="flag-card" [class.disabled]="flag().state === 'DISABLED'">
  <div class="card-header">
    <div class="card-title-row">
      <span class="flag-key">{{ flag().key }}</span>
      <span class="flag-state" [class.enabled]="flag().state === 'ENABLED'">
        {{ flag().state }}
      </span>
    </div>
    <div class="card-actions">
      <button class="btn-card" (click)="onEdit()" title="Edit flag">Edit</button>
      <button class="btn-card btn-card-danger" (click)="onDelete()" title="Delete flag">&times;</button>
    </div>
  </div>

  <div class="card-body">
    <div class="card-meta">
      <span class="meta-badge type-badge">{{ flagType }}</span>
      <span class="meta-badge">{{ variantCount }} variant{{ variantCount !== 1 ? 's' : '' }}</span>
      @if (flag().defaultVariant) {
        <span class="meta-badge default-badge">default: {{ flag().defaultVariant }}</span>
      }
      @if (hasTargeting) {
        <span class="meta-badge targeting-badge">targeting</span>
      }
    </div>
    <div class="variant-list">
      @for (name of variantNames; track name) {
        <span class="variant-chip">{{ name }}</span>
      }
    </div>
  </div>
</div>
